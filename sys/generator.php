<?php// Function that creates the createUniverse function (why am I not doing that in PHP?)function defCreateUniverse($name, $sys) {?>    // Generates a new universe    function createUniverse(civs) {        // Set the dimensions of the universe        var width = 42;        var height = 30;                // The system names        var sysnames = [            'Amodar',            'Omic',            'Gatnic',            'Gva',            'Kyky',            'Tado',            'Odot',            'Khiti',            'Mtim',            'Ramsal',            'Chaga',            'Zhiltcho',            'Vanier',            'Xidni',            'Queld',            'Patitil',            'Ragnatil',            'Lichem',            'Sca',            'Ulil',            'Tchat',            'Heid',            'Alag',            'Weiton',            'Ikudan',            'Terral',            'Lunai',            'Telluzi',            'Hadna',            'Dnaha',            'Oemo',            'Ptoldo',            'Ljudui',            'Rhrhiknik'        ];        var planetTypes = world.getPlanetTypes();        var starTypes = world.getStarTypes();        var takenPositions = {};                // Gets a random integer between 0 and max        function rnd(max) {            return Math.floor(Math.random()*max);        }                // Creates a random position, assuming it is not already occupied        function rndPos() {            do {                var row = rnd(height);                var col = rnd(width);            } while (takenPositions[row+':'+col] !== undefined);            takenPositions[row+':'+col] = true;            return world.pos(row, col);        }                // Adds new planets to the system        function addPlanets(sys) {            var planetCount = rnd(5);            for (var i = 0; i < planetCount; ++i) {                var planet = new world.Planet(sys, planetTypes[rnd(planetTypes.length)]);                sys.planets.push(planet);            }            return sys;        }                // Creates a random system        function rndSystem(name) {            var pos = rndPos();            var starType = starTypes[rnd(starTypes.length)];            var sys = new world.StarSystem(name, pos, starType);            return addPlanets(sys);        }                // Create the civilizations        function createCiv(name, type, home) {            var civ = new world.Civ(name, type, home);            home.enter([world.DefaultSpecs.ColonyShip.create(civ),                        world.DefaultSpecs.Scout.create(civ),                        world.DefaultSpecs.Scout.create(civ),                        world.DefaultSpecs.Scout.create(civ)]);            return civ;        }                // Create the systems and the universe        var systems = sysnames.map(rndSystem);        var uni = new world.Universe(width, height, systems);                // Add the civs to the universe        for (var i = 0; i < civs.length; ++i) {            do {                var s = systems[rnd(systems.length)];            } while (s.planets.length == 0 || s.civs().length > 0);            var civ = createCiv(civs[i].name, civs[i].type, s);            uni.civs.set(civ.civName, civ);        }                // Return the universe!        return uni;    }<?php}?>