<?phprequire "sys/generator.php";require "sys/uiconstants.php";// Contains the data about the player civilizationclass Player {	const Name = "Alonian";	const Sys = "Alon";}?><!DOCTYPE html><html>   <head>      <title>Testing</title>      <link rel="stylesheet" type="text/css" href="css/dastyle.css" />      <script src="js/lib/jquery-1.8.3.min.js"></script>      <script src="js/core.js"></script>      <script src="js/world.js"></script>      <script src="js/ui/shipbar.js"></script>      <script src="js/ui/starmap.js"></script>      <script src="js/ui/systemview.js"></script>      <script src="js/ui/stage.js"></script>      <script>        // Setup the game        $(function() {            <?php defCreateUniverse(Player::Name, Player::Sys); ?>                    function init() {                // Add event handlers                $('#<?php echo UIStatic::Starmap; ?>').click(stage.viewStarmap);                $('#<?php echo UIStatic::System; ?>').click(stage.viewSystem);                $('#<?php echo UIStatic::ShowGrid; ?>').click(function() { stage.starmap.toggleGrid(); });                                // Disabled stuff                $('#<?php echo UIStatic::Diplomacy; ?>').attr('disabled', true);                $('#<?php echo UIStatic::Colonies; ?>').attr('disabled', true);                $('#<?php echo UIStatic::Ships; ?>').attr('disabled', true);                $('#<?php echo UIStatic::Research; ?>').attr('disabled', true);                $('#<?php echo UIStatic::EndTurn; ?>').click(endTurn);                                // NOTE: The following is for testing purposes only                // If the button for getting more colony ships is clicked, a new colony ship will                // be added at the players home system                $('#winColShip').click(function() {                    player.home.enter([world.DefaultSpecs.ColonyShip.create(player)]);                    stage.display();                    if (stage.starmap.selected() === player.home) {                        stage.shipBar.display(stage.starmap.selected());                    }                });                               // Close HUD                 $(".close").click(function(e) {                    $("#hud").hide();                });                                $('#<?php echo UIStatic::CivInfo; ?>').html(player.name + ' ' + player.type);                stage.update();                updateUI();            }                        // Update the turn button to display the proper turn number            function updateUI() {                $('#<?php echo UIStatic::EndTurn; ?>').html('End turn ' + turn);                $('#<?php echo UIStatic::MoneyInfo; ?>').html(Math.floor(player.money) + ' (' + (player.income >= 0 ? '+' : '-') + (Math.floor(player.income * 10) / 10) + ')');            }                        // Ends the turn            function endTurn() {                uni.update();                stage.update();                ++turn;                updateUI();            }                        // Create the universe and the players            var uni = createUniverse([{name: '<?php echo Player::Name; ?>', type: 'Empire'},                                      {name: 'Marak', type: 'Federation'},                                      {name: 'Jaidia', type: 'Imperium'},                                      {name: 'Tzakakal', type: 'Commonwealth'},                                      {name: 'Quidil', type: 'Protectorate'},                                      {name: 'Borrog', type: 'Hive'}]);            var player = uni.civs.get('<?php echo Player::Name; ?>');            var stage = new ui.Stage(player, uni, document.getElementById('<?php echo UIStatic::StarmapView; ?>'), $('#<?php echo UIStatic::SystemView; ?>'), $('#<?php echo UIStatic::BottomDisp; ?>'));            var turn = 1;                        // Creates a new image object with the given source            // The function is a callback to be called when it has been loaded            function loadImage(src, fn) {                var img = new Image();                img.onload = fn;                img.src = src;                return img;            }                        // Make sure the images are loaded before doing anything else            var loading = 1;            var done = 4;            function onLoaded() {                if (loading === done) {                    init();                }                else {                    ++loading;                }            }            stage.starmap.style.fleetImg = loadImage('grfx/ship.png', onLoaded);            stage.starmap.style.redStarImg = loadImage('grfx/small_red_star.png', onLoaded);            stage.starmap.style.blueStarImg = loadImage('grfx/small_blue_star.png', onLoaded);            stage.starmap.style.yellowStarImg = loadImage('grfx/small_yellow_star.png', onLoaded);        });            </script>   </head>   <body>        <!-- The HUD -->        <div id="hud">            <div id="info_central">                <div class="close">X</div>                <p id="hudShipType"></p>                <div>Hull: <span id="hudShipHull"></span></div>                <div>Range: <span id="hudShipRange"></span></div>                <div>Damage: <span id="hudShipDamage"></span></div>                <div>Owner: <span id="hudShipOwner"></span></div>            </div>        </div>                <!-- Top data and button bar thing -->        <div class="header">            <span id="<?php echo UIStatic::CivInfo; ?>"></span> -             <span id="<?php echo UIStatic::MoneyInfo; ?>"></span> bc -             <button tabindex="1" id="<?php echo UIStatic::Starmap; ?>" type="button">Galaxy</button>             <button tabindex="2" id="<?php echo UIStatic::System; ?>" type="button">System</button>             <button tabindex="3" id="<?php echo UIStatic::Diplomacy; ?>" type="button">Diplomacy</button>             <button tabindex="4" id="<?php echo UIStatic::Colonies; ?>" type="button">Colonies</button>             <button tabindex="5" id="<?php echo UIStatic::Ships; ?>" type="button">Ships</button>             <button tabindex="6" id="<?php echo UIStatic::Research; ?>" type="button">Research</button>             ---             <button tabindex="7" id="<?php echo UIStatic::ShowGrid; ?>" type="button">Toggle grid</button>            ---            <button tabindex="8" id="winColShip" type="button">Congrats, you won another colony ship</button>        </div>        <!-- The content -->        <div class="content">            <div id="<?php echo UIStatic::SystemView; ?>">            </div>            <canvas id="<?php echo UIStatic::StarmapView; ?>" class="starmap">                Canvas doesnt work            </canvas>        </div>         <!-- The bottom menu bar thing -->        <div id="footer" class="footer">           <div id="<?php echo UIStatic::BottomDisp; ?>"></div>           <!-- The end turn button -->           <button tabindex="9" id="<?php echo UIStatic::EndTurn; ?>" class="endturn" type="button">End turn</button>        </div>   </body></html>